<!-- Filename:index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: sans-serif;
        }
 
        body {
            width: 100%;
            height: 100vh;
            display: flex;
        }

        main {
            background-color: rgb(102, 189, 16);
            width: 100%;
            height: 100vh;
            display: flex;
        }
 
        .mouse_move {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
 
        .mouse_move h2 {
            position: relative;
            font-size: 100px;
            color: white;
        }
 
        .mouse_move img {
            position: absolute;
        }
 
        #img1 {
            top: 80px;
            left: 80px;
            height: 250px;
            width: 250px;
        }
 
        #img2 {
            bottom: 80px;
            right: 80px;
            height: 250px;
            width: 250px;
        }

        #img2 {
            bottom: 150px;
            right: 600px;
            height: 250px;
            width: 250px;
        }


    </style>
    <title>Parallax</title>
</head>
 
<body>

<main class="stage" id="stage">
    


        <img 
        id="img1" 
        src="https://media.geeksforgeeks.org/wp-content/uploads/20210101144014/gfglogo.png"
        class="mouse"
        value="10" />

        <img 
        id="img2" 
        src="https://media.geeksforgeeks.org/wp-content/cdn-uploads/20190710102234/download3.png"
        class="mouse" 
        value="-5" />

    </div>


      



    <script type="text/javascript">


let constrain = 500;
let mouseOverContainer = document.getElementById("stage");
let ex1Layer = document.getElementById("ex1-layer");

function transforms(x, y, el) {
  let box = el.getBoundingClientRect();
  let calcX = -(y - box.y - box.height / 2) / constrain;
  let calcY = (x - box.x - box.width / 2) / constrain;

  return (
    "perspective(100px) " +
    "rotateX(" + calcX + "deg) " +
    "rotateY(" + calcY + "deg) "
  );
}

function transformElement(el, xyEl) {
  el.style.transform = transforms.apply(null, xyEl);
}

function handleMouseMove(event) {
  let x = (window.innerWidth - event.pageX) / 90;
  let y = (window.innerHeight - event.pageY) / 90;

  document.querySelectorAll(".mouse").forEach((shift) => {
    const position = shift.getAttribute("value");
    if (!position || isNaN(position)) {
      console.error("Invalid or missing 'value' attribute for element:", shift);
      return; // Skip this element and proceed to the next one
    }

    const translateX = x * position;
    const translateY = y * position;

    shift.style.transition = "transform 0.2s linear"; // Apply transition
    shift.style.transform = `translateX(${translateX}px) translateY(${translateY}px)`;

    const xy = [event.clientX, event.clientY];
    const positionArray = xy.concat([shift]);

    window.requestAnimationFrame(function () {
      transformElement(shift, positionArray);
    });
  });
}

document.addEventListener("mousemove", handleMouseMove);












    </script>


</main>


</body>
</html>