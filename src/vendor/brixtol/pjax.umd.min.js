(function(j,B){typeof exports=="object"&&typeof module!="undefined"?B(exports):typeof define=="function"&&define.amd?define(["exports"],B):(j=typeof globalThis!="undefined"?globalThis:j||self,B(j.Pjax={}))})(this,function(j){"use strict";const B=/^data-pjax-(hydrate|append|prepend|replace|history|progress|threshold|position)$/i,pt=/\/\/[^/]*(\/[^;]*)/,ht=/^(true|false)$/i,_e=/^[+-]?\d*\.?\d+$/,xe=/[^,'"[\]()\s]+/g,vt=/\(?\[['"].*?['"],?\]\)?/,yt=/\(?(\[(['"].*?['"],?){2}\],?)\1?\)?/,mt=/[xy]:[0-9.]+/,gt=/[xy]|\d*\.?\d+/g,wt=/^https?:$/;let je=(e=21)=>{let n="",t=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=t[e]&63;r<36?n+=r.toString(36):r<62?n+=(r-26).toString(36).toUpperCase():r<63?n+="_":n+="-"}return n};const bt=Object.assign||((e,n)=>(n&&Object.keys(n).forEach(t=>e[t]=n[t]),e)),oe=(e,n,t)=>{const r=typeof t;if(t&&r==="object")if(Array.isArray(t))for(const o of t)n=oe(e,n,o);else for(const o of Object.keys(t)){const u=t[o];typeof u=="function"?n[o]=u(n[o],G):u===void 0?e&&!isNaN(o)?n.splice(o,1):delete n[o]:u===null||typeof u!="object"||Array.isArray(u)?n[o]=u:typeof n[o]=="object"?n[o]=u===n[o]?u:G(n[o],u):n[o]=oe(!1,{},u)}else r==="function"&&(n=t(n,G));return n},G=(e,...n)=>{const t=Array.isArray(e);return oe(t,t?e.slice():bt({},e),n)},ie=G;function Y(){return Y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n],r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Y.apply(this,arguments)}var F,se=F||(F={});se.Pop="POP",se.Push="PUSH",se.Replace="REPLACE";var Oe=function(e){return Object.freeze(e)};function Pt(e,n){if(!e){typeof console!="undefined"&&console.warn(n);try{throw Error(n)}catch{}}}function Se(e){e.preventDefault(),e.returnValue=""}function Le(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(t){return t!==n})}},call:function(n){e.forEach(function(t){return t&&t(n)})}}}var Et=function(e){function n(){var i=c.location,l=v.state||{};return[l.idx,Oe({pathname:i.pathname,search:i.search,hash:i.hash,state:l.usr||null,key:l.key||"default"})]}function t(i){if(typeof i=="string")var l=i;else{l=i.pathname,l=l===void 0?"/":l;var p=i.search;p=p===void 0?"":p,i=i.hash,i=i===void 0?"":i,p&&p!=="?"&&(l+=p.charAt(0)==="?"?p:"?"+p),i&&i!=="#"&&(l+=i.charAt(0)==="#"?i:"#"+i)}return l}function r(i,l){l===void 0&&(l=null);var p=Y,m={pathname:w.pathname,hash:"",search:""};if(typeof i=="string"){var f={};if(i){var g=i.indexOf("#");0<=g&&(f.hash=i.substr(g),i=i.substr(0,g)),g=i.indexOf("?"),0<=g&&(f.search=i.substr(g),i=i.substr(0,g)),i&&(f.pathname=i)}i=f}return Oe(p(m,i,{state:l,key:Math.random().toString(36).substr(2,8)}))}function o(i){O=i,i=n(),d=i[0],w=i[1],s.call({action:O,location:w})}function u(i,l){function p(){u(i,l)}var m=F.Push,f=r(i,l);if(!a.length||(a.call({action:m,location:f,retry:p}),!1)){var g=[{usr:f.state,key:f.key,idx:d+1},t(f)];f=g[0],g=g[1];try{v.pushState(f,"",g)}catch{c.location.assign(g)}o(m)}}function y(i,l){function p(){y(i,l)}var m=F.Replace,f=r(i,l);a.length&&(a.call({action:m,location:f,retry:p}),1)||(f=[{usr:f.state,key:f.key,idx:d},t(f)],v.replaceState(f[0],"",f[1]),o(m))}function h(i){v.go(i)}e===void 0&&(e={}),e=e.window;var c=e===void 0?document.defaultView:e,v=c.history,k=null;c.addEventListener("popstate",function(){if(k)a.call(k),k=null;else{var i=F.Pop,l=n(),p=l[0];if(l=l[1],a.length)if(p!=null){var m=d-p;m&&(k={action:i,location:l,retry:function(){h(-1*m)}},h(m))}else Pt(!1,"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.");else o(i)}});var O=F.Pop;e=n();var d=e[0],w=e[1],s=Le(),a=Le();return d==null&&(d=0,v.replaceState(Y({},v.state,{idx:d}),"")),{get action(){return O},get location(){return w},createHref:t,push:u,replace:y,go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(i){return s.push(i)},block:function(i){var l=a.push(i);return a.length===1&&c.addEventListener("beforeunload",Se),function(){l(),a.length||c.removeEventListener("beforeunload",Se)}}}}();const L=Et,{create:$e,assign:J,is:ae,keys:Vn,values:Xn,defineProperty:Te,getOwnPropertyNames:_t}=Object,{from:ce,isArray:Ae}=Array;function Q({writable:e,configurable:n,enumerable:t}={writable:!1,configurable:!1,enumerable:!1}){const r=$e(null);return{get all(){return r},get(o){return r[o]||void 0},set(o,u){return this.has(o)?Te(r,o,{value:u}):Te(r,o,{value:u,writable:e,configurable:n,enumerable:t}),r[o]},update(o,...u){return r[o]=ie(r[o]||{},u),r[o]},has(o,u){if(!o)return!1;const y=o in r;return u&&y?u in r[o]:y},delete(o){return this.has(o)?delete r[o]:!1},clear(o=[]){const u=[];return _t(r).forEach(y=>{o.includes(y)?u.push(r[y].snapshot):delete r[y]}),u}}}function M(e,n,t=!1){const r=new CustomEvent(e,{detail:n,cancelable:t});return document.dispatchEvent(r)}const P=$e({controller:!1,history:!1,href:!1,hover:!1,intersect:!1}),q={x:0,y:0};function le(){return q.x=window.scrollX||window.pageXOffset,q.y=window.scrollY||window.pageYOffset,q}function Ce(){return q.x=0,q.y=0,q}function ke(){return{x:0,y:0}}function xt(){P.scroll||(le(),addEventListener("scroll",le,{passive:!0}),P.scroll=!0)}function jt(){P.scroll&&(removeEventListener("scroll",le,!1),Ce(),P.scroll=!1)}var qe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Re={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,n){(function(t,r){e.exports=r()})(qe,function(){var t={};t.version="0.2.0";var r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(s){var a,i;for(a in s)i=s[a],i!==void 0&&s.hasOwnProperty(a)&&(r[a]=i);return this},t.status=null,t.set=function(s){var a=t.isStarted();s=o(s,r.minimum,1),t.status=s===1?null:s;var i=t.render(!a),l=i.querySelector(r.barSelector),p=r.speed,m=r.easing;return h(function(f){r.positionUsing===""&&(r.positionUsing=t.getPositioningCSS()),c(l,y(s,p,m)),s===1?(c(i,{transition:"none",opacity:1}),setTimeout(function(){c(i,{transition:"all "+p+"ms linear",opacity:0}),setTimeout(function(){t.remove(),f()},p)},p)):setTimeout(f,p)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var s=function(){setTimeout(function(){!t.status||(t.trickle(),s())},r.trickleSpeed)};return r.trickle&&s(),this},t.done=function(s){return!s&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(s){var a=t.status;return a?(typeof s!="number"&&(s=(1-a)*o(Math.random()*a,.1,.95)),a=o(a+s,0,.994),t.set(a)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},function(){var s=0,a=0;t.promise=function(i){return!i||i.state()==="resolved"?this:(a===0&&t.start(),s++,a++,i.always(function(){a--,a===0?(s=0,t.done()):t.set((s-a)/s)}),this)}}(),t.render=function(s){if(t.isRendered())return document.getElementById("nprogress");k(document.documentElement,"nprogress-busy");var a=document.createElement("div");a.id="nprogress",a.innerHTML=r.template;var i=a.querySelector(r.barSelector),l=s?"-100":u(t.status||0),p=document.querySelector(r.parent),m;return c(i,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),r.showSpinner||(m=a.querySelector(r.spinnerSelector),m&&w(m)),p!=document.body&&k(p,"nprogress-custom-parent"),p.appendChild(a),a},t.remove=function(){O(document.documentElement,"nprogress-busy"),O(document.querySelector(r.parent),"nprogress-custom-parent");var s=document.getElementById("nprogress");s&&w(s)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var s=document.body.style,a="WebkitTransform"in s?"Webkit":"MozTransform"in s?"Moz":"msTransform"in s?"ms":"OTransform"in s?"O":"";return a+"Perspective"in s?"translate3d":a+"Transform"in s?"translate":"margin"};function o(s,a,i){return s<a?a:s>i?i:s}function u(s){return(-1+s)*100}function y(s,a,i){var l;return r.positionUsing==="translate3d"?l={transform:"translate3d("+u(s)+"%,0,0)"}:r.positionUsing==="translate"?l={transform:"translate("+u(s)+"%,0)"}:l={"margin-left":u(s)+"%"},l.transition="all "+a+"ms "+i,l}var h=function(){var s=[];function a(){var i=s.shift();i&&i(a)}return function(i){s.push(i),s.length==1&&a()}}(),c=function(){var s=["Webkit","O","Moz","ms"],a={};function i(f){return f.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(g,x){return x.toUpperCase()})}function l(f){var g=document.body.style;if(f in g)return f;for(var x=s.length,b=f.charAt(0).toUpperCase()+f.slice(1),A;x--;)if(A=s[x]+b,A in g)return A;return f}function p(f){return f=i(f),a[f]||(a[f]=l(f))}function m(f,g,x){g=p(g),f.style[g]=x}return function(f,g){var x=arguments,b,A;if(x.length==2)for(b in g)A=g[b],A!==void 0&&g.hasOwnProperty(b)&&m(f,b,A);else m(f,x[1],x[2])}}();function v(s,a){var i=typeof s=="string"?s:d(s);return i.indexOf(" "+a+" ")>=0}function k(s,a){var i=d(s),l=i+a;v(i,a)||(s.className=l.substring(1))}function O(s,a){var i=d(s),l;!v(s,a)||(l=i.replace(" "+a+" "," "),s.className=l.substring(1,l.length-1))}function d(s){return(" "+(s.className||"")+" ").replace(/\s+/gi," ")}function w(s){s&&s.parentNode&&s.parentNode.removeChild(s)}return t})})(Re);const Ot=Re.exports;var St=Object.defineProperty,Lt=Object.defineProperties,$t=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Tt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,Ne=(e,n,t)=>n in e?St(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Ct=(e,n)=>{for(var t in n||(n={}))Tt.call(n,t)&&Ne(e,t,n[t]);if(Me)for(var t of Me(n))At.call(n,t)&&Ne(e,t,n[t]);return e},kt=(e,n)=>Lt(e,$t(n));let ue;function qt({options:e}){ue=Ot.configure(kt(Ct({},e),{template:'<div class="bar" role="bar"><div class="peg"></div></div>'}))}var Rt=Object.defineProperty,Mt=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Ie=(e,n,t)=>n in e?Rt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,fe=(e,n)=>{for(var t in n||(n={}))Ht.call(n,t)&&Ie(e,t,n[t]);if(He)for(var t of He(n))It.call(n,t)&&Ie(e,t,n[t]);return e},de=(e,n)=>Mt(e,Nt(n));const E=Q({writable:!0,configurable:!0}),$=Q({writable:!0,configurable:!0}),_={targets:["body"],request:{timeout:3e4,poll:150,async:!0,dispatch:"mousedown"},prefetch:{preempt:null,mouseover:{enable:!0,threshold:100,proximity:0},intersect:{enable:!0}},cache:{enable:!0,limit:25,save:!1,reverse:!0},progress:{enable:!0,threshold:850,style:{render:!0,colour:"#111",height:"2px"},options:{minimum:.1,easing:"ease",speed:225,trickle:!0,trickleSpeed:225,showSpinner:!1}}};function Dt(e={}){const n=ie(_,de(fe({},e),{request:de(fe({},e==null?void 0:e.request),{dispatch:void 0}),cache:de(fe({},e==null?void 0:e.cache),{save:void 0})}));J(_,n),_.progress.enable&&qt(_.progress)}function De(e,n){const t=J({history:!0,snapshot:e.snapshot||je(16),position:e.position||Ce(),cache:_.cache.enable,progress:_.progress.threshold,threshold:_.prefetch.mouseover.threshold},e,{targets:_.targets});return t.cache&&M("pjax:cache",t,!0)&&(E.set(t.url,t),$.set(t.snapshot,n)),t}function Ft(e,n){const{lastpath:t}=e.location,r=E.update(t,{hydrate:e.hydrate});return $.set(r.snapshot,n),r}function Z(e){if(typeof e=="undefined")E.clear(),$.clear();else if(typeof e=="string")$.delete(E.get(e).snapshot),E.delete(e);else if(Ae(e)){const n=E.clear(e);$.clear(n)}}function N(e){return E.has(e,"snapshot")?$.has(E.get(e).snapshot):!1}var Fe,pe=Fe||(Fe={});pe.Pop="POP",pe.Push="PUSH",pe.Replace="REPLACE";function ee(e){var n=e.pathname;n=n===void 0?"/":n;var t=e.search;return t=t===void 0?"":t,e=e.hash,e=e===void 0?"":e,t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Wt(e){var n={};if(e){var t=e.indexOf("#");0<=t&&(n.hash=e.substr(t),e=e.substr(0,t)),t=e.indexOf("?"),0<=t&&(n.search=e.substr(t),e=e.substr(0,t)),e&&(n.pathname=e)}return n}var Ut=Object.defineProperty,We=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Ue=(e,n,t)=>n in e?Ut(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Xt=(e,n)=>{for(var t in n||(n={}))Bt.call(n,t)&&Ue(e,t,n[t]);if(We)for(var t of We(n))Vt.call(n,t)&&Ue(e,t,n[t]);return e};const{origin:zt,hostname:Kt}=window.location;let Be=ee(window.location),H=Be;function Gt(e){var n;return e.charCodeAt(0)===47?e:((n=e.match(pt))!=null?n:[])[1]||"/"}function Ve(e){const n=Wt(e instanceof Element?e.getAttribute("href"):e);return Xt({lastpath:ee(L.location),search:"",origin:zt,hostname:Kt},n)}function I(e,n){const t=Gt(e instanceof Element?e.getAttribute("href"):e);return n&&(H=ee(L.location),Be=t),{url:t,location:Ve(t)}}var S=typeof window!="undefined"?window:{screen:{},navigator:{}},W=(S.matchMedia||function(){return{matches:!1}}).bind(S),Yt={get passive(){return!0}},Xe=function(){};S.addEventListener&&S.addEventListener("p",Xe,Yt),S.removeEventListener&&S.removeEventListener("p",Xe,!1);var V="PointerEvent"in S,he="ontouchstart"in S,Jt="TouchEvent"in S;he||Jt&&W("(any-pointer: coarse)").matches;var ze=S.navigator.userAgent||"",Qt=W("(pointer: coarse)").matches&&/iPad|Macintosh/.test(ze)&&Math.min(S.screen.width||0,S.screen.height||0)>=768;(W("(pointer: coarse)").matches||!W("(pointer: fine)").matches&&he)&&/Windows.*Firefox/.test(ze),W("(any-pointer: fine)").matches||W("(any-hover: hover)").matches;function Zt(e=2){return(n,t)=>{const r=n.length;return(!r||ae(n[r-1].length,e)?n.push([t]):n[r-1].push(t))&&n}}function en(e,n){return C((t,r,o)=>{const u=o.length-1>=r?r-1:r;r%2&&J(n,{[o[u]]:_e.test(t)?Number(t):t})},e),n}function ve({attributes:e},n={}){for(const{nodeName:t,nodeValue:r}of e){if(!B.test(t))continue;const o=r.replace(/\s+/g,"");n[t.slice(10)]=vt.test(o)?o.match(xe):yt.test(o)?o.match(xe).reduce(Zt(2),[]):mt.test(o)?en(o.match(gt),{}):ht.test(o)?o==="true":_e.test(o)?Number(o):o}return n}function ye(e,n){if(e instanceof Element){const t=e.closest(n);if(t&&t.tagName==="A")return t}return!1}function tn(e){return new Blob([e]).size}function nn(e){return!N(I(e).url)}function me(e){const n=document.body.querySelectorAll(e);return ce(n).filter(nn)}function C(e,n){if(arguments.length===1)return o=>C(e,o);let t=0;const r=n.length;for(;t<r;)e(n[t],t,n),t++}var Ke={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(qe,function(){var t=function(){},r={},o={},u={};function y(d,w){d=d.push?d:[d];var s=[],a=d.length,i=a,l,p,m,f;for(l=function(g,x){x.length&&s.push(g),i--,i||w(s)};a--;){if(p=d[a],m=o[p],m){l(p,m);continue}f=u[p]=u[p]||[],f.push(l)}}function h(d,w){if(!!d){var s=u[d];if(o[d]=w,!!s)for(;s.length;)s[0](d,w),s.splice(0,1)}}function c(d,w){d.call&&(d={success:d}),w.length?(d.error||t)(w):(d.success||t)(d)}function v(d,w,s,a){var i=document,l=s.async,p=(s.numRetries||0)+1,m=s.before||t,f=d.replace(/[\?|#].*$/,""),g=d.replace(/^(css|img)!/,""),x,b;a=a||0,/(^css!|\.css$)/.test(f)?(b=i.createElement("link"),b.rel="stylesheet",b.href=g,x="hideFocus"in b,x&&b.relList&&(x=0,b.rel="preload",b.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f)?(b=i.createElement("img"),b.src=g):(b=i.createElement("script"),b.src=d,b.async=l===void 0?!0:l),b.onload=b.onerror=b.onbeforeload=function(A){var re=A.type[0];if(x)try{b.sheet.cssText.length||(re="e")}catch(Bn){Bn.code!=18&&(re="e")}if(re=="e"){if(a+=1,a<p)return v(d,w,s,a)}else if(b.rel=="preload"&&b.as=="style")return b.rel="stylesheet";w(d,re,A.defaultPrevented)},m(d,b)!==!1&&i.head.appendChild(b)}function k(d,w,s){d=d.push?d:[d];var a=d.length,i=a,l=[],p,m;for(p=function(f,g,x){if(g=="e"&&l.push(f),g=="b")if(x)l.push(f);else return;a--,a||w(l)},m=0;m<i;m++)v(d[m],p,s)}function O(d,w,s){var a,i;if(w&&w.trim&&(a=w),i=(a?s:w)||{},a){if(a in r)throw"LoadJS";r[a]=!0}function l(p,m){k(d,function(f){c(i,f),p&&c({success:p,error:m},f),h(a,f)},i)}if(i.returnPromise)return new Promise(l);l()}return O.ready=function(w,s){return y(w,function(a){c(s,a)}),O},O.done=function(w){h(w,[])},O.reset=function(){r={},o={},u={}},O.isDefined=function(w){return w in r},O})})(Ke);const Ge=Ke.exports;var Ye=(e,n,t)=>new Promise((r,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,n)).next())});let te=0,Je=0,ge=!1;const T=Q({configurable:!0});function rn(e,n=0){return new Promise(t=>setTimeout(()=>t(e()),n))}function on(e,n){T.delete(e),Je=Je+tn(n)}function sn(e){const n=new XMLHttpRequest;return new Promise((t,r)=>{n.open("GET",e,_.request.async),n.setRequestHeader("X-Pjax","true"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onloadstart=o=>T.set(e,n),n.onload=o=>t(ae(n.status,200)?n.responseText:!1),n.onloadend=o=>on(e,n.responseText),n.onerror=r,n.timeout=_.request.timeout,n.responseType="text",n.send(null)})}function Qe(e){T.has(e)&&(T.get(e).abort(),T.delete(e),console.warn(`Pjax: XHR Request was cancelled for url: ${e}`))}function Ze(e){return Ye(this,null,function*(){return T.has(e)&&te<=_.request.timeout?(!ge&&ae(te*10,_.progress.threshold)&&(ue.start(),ge=!0),rn(()=>(te++,Ze(e)),1)):(te=0,ge=!1,!T.has(e))})}function R(e,n){return Ye(this,null,function*(){if(typeof e=="string"&&(e=I(e)),n&&(e.type=n),T.has(e.url))return console.warn(`Pjax: XHR Request is already in transit for: ${e.url}`),!1;if(!M("pjax:request",{state:e},!0))return console.warn(`Pjax: Request cancelled via dispatched event for: ${e.url}`),!1;try{const t=yield sn(e.url);if(t)return e.hydrate?Ft(e,t):De(e,t);console.warn(`Pjax: Failed to retrive response at: ${e.url}`)}catch(t){T.delete(e.url),console.error(t)}return!1})}var et=(e,n,t)=>new Promise((r,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,n)).next())});const X=Q({writable:!0,configurable:!0});function tt(e){return clearTimeout(X.get(e)),X.delete(e)}function z(e){const n=ye(e.target,'a[data-pjax-prefetch="hover"]');n&&(tt(I(n).url),be(n))}function an(e,n,t){!N(e)&&!X.has(e)&&X.set(e,setTimeout(n,t))}function cn(e){return et(this,null,function*(){return(yield R(e))||console.warn(`Pjax: Prefetch will retry on next mouseover for: ${e.url}`),tt(e.url)})}function we(e){const n=ye(e.target,'a[data-pjax-prefetch="hover"]');if(!n)return;const{url:t,location:r}=I(n);if(!M("pjax:prefetch",{target:n,url:t,location:r},!0)||N(t))return Pe(n);be(n);const o=ve(n,{url:t,location:r,position:ke()});an(t,()=>et(this,null,function*(){(yield cn(o))&&be(n)}),o.threshold||_.prefetch.mouseover.threshold)}function ln(e){V?e.addEventListener("pointerover",we,!1):e.addEventListener("mouseover",we,!1)}function be(e){V?e.removeEventListener("pointerout",z,!1):e.removeEventListener("mouseleave",z,!1)}function Pe(e){V?(e.removeEventListener("pointerover",z,!1),e.removeEventListener("pointerout",z,!1)):(e.removeEventListener("mouseleave",z,!1),e.removeEventListener("mouseover",we,!1))}function nt(){P.hover||(C(ln)(me('a[data-pjax-prefetch="hover"]')),P.hover=!0)}function rt(){P.hover&&(X.clear(),C(Pe)(me('a[data-pjax-prefetch="hover"]')),P.hover=!1)}var un=(e,n,t)=>new Promise((r,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,n)).next())});let K;function fn(e){return un(this,null,function*(){if(e.isIntersecting){const n=ve(e.target,I(e.target));(yield R(n))?K.unobserve(e.target):(console.warn(`Pjax: Prefetch will retry at next intersect for: ${n.url}`),K.observe(e.target))}})}function ot(){P.intersect||(K=new IntersectionObserver(C(fn)),C(K.observe)(me('a[data-pjax-prefetch="intersect"]')),P.intersect=!0)}function it(){P.intersect&&(K.disconnect(),P.intersect=!1)}var st=Object.getOwnPropertySymbols,dn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,hn=(e,n)=>{var t={};for(var r in e)dn.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&st)for(var r of st(e))n.indexOf(r)<0&&pn.call(e,r)&&(t[r]=e[r]);return t},vn=(e,n,t)=>new Promise((r,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,n)).next())});const yn=new DOMParser,at=new Set;function mn({src:e,id:n=e}){Ge.isDefined(n)||Ge(e,n,{before:(t,r)=>r.setAttribute("data-pjax-eval","false"),success:()=>M("pjax:script",{id:n}),error:t=>console.error(`Pjax: Failed to load script ${t} `),numRetries:1})}function gn(e,n){var t=hn(n,[]);return C(r=>{if(r.tagName==="TITLE")return null;if(r.getAttribute("data-pjax-eval")!=="false"){const o=e.indexOf(r.outerHTML);o===-1?r.parentNode.removeChild(r):e.splice(o,1)}})(t),e.join("")}function wn({children:e}){const n=ce(e).reduce((r,o)=>(o.tagName==="SCRIPT"&&o.hasAttribute("src")&&o.getAttribute("data-pjax-eval")!=="false"&&o instanceof HTMLScriptElement&&(mn(o),o.parentNode.removeChild(o)),o.tagName!=="TITLE"&&o.tagName!=="SCRIPT"?[...r,o.outerHTML]:r),[]),t=document.createElement("div");t.innerHTML=gn(n,document.head),C(r=>{r.hasAttribute("data-pjax-eval")||document.head.appendChild(r)},ce(t.children))}function bn(e){!e.hasAttribute("id")||at.has(e.id)||(document.body.appendChild(e),at.add(e.id))}function ct(e){return yn.parseFromString(e,"text/html")}function Pn(e){return vn(this,null,function*(){if(N(e.url)){const n=ct($.get(e.snapshot));n.body.innerHTML=document.body.innerHTML,$.set(e.snapshot,n.documentElement.outerHTML)}})}function En(e,n){const t=e.replace?[...e.targets,...e.replace]:e.targets,r=t.join(","),o=document.body.querySelectorAll(r);if(o.length===0)return document.body.replaceWith(n.body);const u=n.body.querySelectorAll(r);o.forEach((y,h)=>{if(!!y.matches(t[h])&&!!M("pjax:render",{target:t[h]},!0)&&(y.replaceWith(u[h]),e.append||e.prepend)){const c=document.createElement("div");return n.childNodes.forEach(c.appendChild),e.append?y.appendChild(c):y.insertBefore(c,y.firstChild)}})}function _n(e,n){const t=n.join(","),r=document.body.querySelectorAll(t);if(r.length>0){const o=e.body.querySelectorAll(t);r.forEach((u,y)=>u.replaceWith(o[y]))}}function D(e,n){_.prefetch.mouseover.enable&&rt(),_.prefetch.intersect.enable&&it();const t=ct($.get(e.snapshot));if(e.title=document.title=t.title||"",t.head&&wn(t.head),e.hydrate){_n(t,e.hydrate);const{url:r}=E.update(e.url,{hydrate:void 0});$.clear(E.clear([r])),console.log(E.all)}else En(e,t),t.body.querySelectorAll("[data-pjax-track]").forEach(bn),e.history&&(n||(e.url===e.location.lastpath?L.replace(e.location,e):L.push(e.location,e)),scrollTo(e.position.x,e.position.y));return ue.done(),_.prefetch.mouseover.enable&&nt(),_.prefetch.intersect.enable&&ot(),M("pjax:load",e),e}var xn=(e,n,t)=>new Promise((r,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,n)).next())});let lt=null,Ee;function jn(e,n){return xn(this,null,function*(){if(e!==Ee&&Qe(Ee),N(e))return n.type==="reverse"?D(E.update(e,{position:n.position}),!0):D(E.get(e),!0);Ee=e;const t=yield R(n);return t?D(t,!0):location.assign(e)})}function On({action:e,location:n}){if(e==="POP")return jn(ee(n),n.state)}function Sn(){P.history||(lt=L.listen(On),P.history=!0)}function Ln(){P.history&&(lt(),P.history=!1)}function $n(){const e=ie(L.location.state,{position:q});return L.replace(L.location,e),e}var Tn=(e,n,t)=>new Promise((r,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,n)).next())});function An(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}function Cn(e){return n=>function t(r){return r.preventDefault(),e.removeEventListener("click",t,!1),Pn($n()),typeof n=="object"?D(n):typeof n=="string"?ne(n):location.assign(H)}}function U(e){if(!An(e))return;const n=ye(e.target,'a:not([data-pjax-disable]):not([href^="#"])');if(!!n&&M("pjax:trigger",{target:n},!0)){const{url:t,location:r}=I(n,!0),o=Cn(n);if(T.has(t))n.addEventListener("click",o(t),!1);else{const u=ve(n,{url:t,location:r,position:ke()});if(N(t)){const y=E.update(u.url,u);n.addEventListener("click",o(y),!1)}else R(u),n.addEventListener("click",o(t),!1)}}}function ne(e,n=!1){return Tn(this,null,function*(){if(n){typeof n.cache=="string"&&(n.hydrate||(n.cache==="clear"?Z():Z(e)));const t=yield R(n);if(t)return D(t)}else{if(yield Ze(e))return D(E.get(e));Qe(e)}return location.assign(e)})}function kn(){P.href||(V?addEventListener("pointerdown",U,!1):(addEventListener("mousedown",U,!1),addEventListener("touchstart",U,!1)),P.href=!0)}function qn(){P.href&&(V?removeEventListener("pointerdown",U,!1):(removeEventListener("mousedown",U,!1),removeEventListener("touchstart",U,!1)),P.href=!1)}function ut(){var e;const n=De({url:H,location:Ve(H),position:q},document.documentElement.outerHTML);if(_.prefetch.preempt!==null){const{preempt:t}=_.prefetch;Ae(t)?C(r=>R(r,"preempt"))(t):(t==null?void 0:t[H])&&delete t[H]}if(_.cache.reverse){const t=L.location.state;((e=t==null?void 0:t.location)==null?void 0:e.lastpath)&&R(t.location.lastpath,"reverse").then(()=>{L.replace(window.location,n)})}else L.replace(window.location,n);removeEventListener("load",ut)}function Rn(){P.controller||(Sn(),kn(),xt(),nt(),ot(),addEventListener("load",ut),P.controller=!0,console.info("Pjax: Connection Established \u26A1"))}function Mn(){P.controller?(Ln(),qn(),jt(),rt(),it(),Z(),P.controller=!1,console.warn("Pjax: Instance has been disconnected! \u{1F614}")):console.warn("Pjax: No connection made, disconnection is void \u{1F643}")}var ft=(e,n,t)=>new Promise((r,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,n)).next())});const dt=!!(window.history.pushState&&window.requestAnimationFrame&&window.addEventListener&&window.DOMParser),Nn=e=>{Dt(e),dt?wt.test(window.location.protocol)?addEventListener("DOMContentLoaded",Rn):console.error("Invalid protocol, pjax expects https or http protocol"):console.error("Pjax is not supported by this browser")};function Hn(){return ft(this,null,function*(){const e=yield R(E.get(H));if(e)return console.info("Pjax: Triggered reload, page was re-cached"),D(e);console.warn("Pjax: Reload Trigger failed!")})}function In(e){return e?E.get(e):E.all}function Dn(e=12){return je(e)}function Fn(e){return Z(e)}function Wn(e){return ft(this,arguments,function*(n,t={}){const r=I(n,!0);return N(r.url)?t.hydrate?ne(r.url,E.update(r.url,t,r)):ne(r.url,E.update(r.url,t)):ne(r.url,J(t,r))})}function Un(){Mn()}j.cache=In,j.clear=Fn,j.connect=Nn,j.disconnect=Un,j.reload=Hn,j.supported=dt,j.uuid=Dn,j.visit=Wn,Object.defineProperty(j,"__esModule",{value:!0})});
